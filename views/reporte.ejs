<!DOCTYPE html>
<html lang="en">
  <head>
    <title>My page</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="minimum-scale=1, initial-scale=1, width=device-width" />
    <script src="https://unpkg.com/react@latest/umd/react.development.js" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/react-dom@latest/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@material-ui/core@latest/umd/material-ui.development.js" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/babel-standalone@latest/babel.min.js" crossorigin="anonymous"></script>
    <!-- Fonts to support Material Design -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" />
    <!-- Icons to support Material Design -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
    <script>
      var customers = JSON.parse('<%-JSON.stringify(customers)%>');
    </script>
    <style>
      header {
        background-color: #4c5a68;
        margin-bottom: 20px;
      }
      header img {
        width: 200px;
        height: 55px;
      }
      .color-red-text {
        color: #e2270f!important;
      }
      .button-actions {
        padding: 20px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
const {
  colors,
  CssBaseline,
  ThemeProvider,
  Typography,
  Container,
  makeStyles,
  createMuiTheme,
  Box,
  SvgIcon,
  Link,
  Table,
  TableContainer,
  TableHead,
  TableRow,
  TableCell,
  TableBody,
  Paper,
  Button
} = MaterialUI;

// Create a theme instance.
const theme = createMuiTheme({
  palette: {
    primary: {
      main: '#556cd6',
    },
    secondary: {
      main: '#19857b',
    },
    error: {
      main: colors.red.A400,
    },
    background: {
      default: '#fff',
    },
  },
});

function App() {
  return (
    <Container>
      <TableContainer component={Paper}>
        <Table>
          <TableHead>
            <TableRow>
              <TableCell>Nombre</TableCell>
              <TableCell>NumeroTelefonico</TableCell>
              <TableCell>Email</TableCell>
              <TableCell>Compania</TableCell>
              <TableCell>Estado</TableCell>
              <TableCell>Sector</TableCell>
              <TableCell>OtroSector</TableCell>
              <TableCell>RecibirNovedades</TableCell>
              <TableCell>Descripcion</TableCell>
            </TableRow>
          </TableHead>
          <TableBody>
            {customers.map(customer => (
              <TableRow>
                <TableCell>{customer.aName} {customer.lastName}</TableCell>
                <TableCell>{customer.phoneNumber}</TableCell>
                <TableCell>{customer.email}</TableCell>
                <TableCell>{customer.company}</TableCell>
                <TableCell>{customer.aState}</TableCell>
                <TableCell>{customer.sector}</TableCell>
                <TableCell>{customer.otherSector}</TableCell>
                <TableCell>{customer.novedades}</TableCell>
                <TableCell>{customer.aDescription}</TableCell>
              </TableRow>
            ))}
          </TableBody>
        </Table>
      </TableContainer>
    </Container>
  );
}
let handleClick = () => {
  document.getElementById('my_iframe').src = '/reporte';
};

ReactDOM.render(
  <ThemeProvider theme={theme}>
    {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}
    <CssBaseline />
    <header>
      <img src="https://threebond.com.mx/static/2cc3d99cf772d77f87dee55a5fc678a1/logo-neuro@2x.png" />
    </header>
    <h1 style={{ margin: 40 }} className="color-red-text">Reporte de cotizaciones</h1>
    <App />
    <div className="button-actions">
      <Button onClick={handleClick} variant="contained" color="primary">
        Descargar CSV
      </Button>
    </div>
    <iframe id="my_iframe" style={{display: 'none'}} />
  </ThemeProvider>,
  document.querySelector('#root'),
);
    </script>
  </body>
</html>